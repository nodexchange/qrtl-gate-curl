/*!
 * ADTECH Rich Media Core Library 1.12.0 Copyright 2010 AOL Platforms.
 */
var com=com||{};com.adtech=com.adtech||{};/*!
 * Cross-Browser DOM Ready code extracted from jQuery.
 *
 * jQuery JavaScript Library v1.4.2
 * http://jquery.com/
 *
 * @author Pictela Support <support@pictela.com>
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
var ADTECHDomReady=function(){var a=!1,b=function(b){var c=function(){if(!a)return a=!0,b()},d=function(){if(!a){try{document.documentElement.doScroll("left")}catch(b){return void setTimeout(d,1)}return c()}};if("complete"===document.readyState)return c();if(document.addEventListener)document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",c),window.attachEvent("onload",c);var e=!1;try{e=null==window.frameElement}catch(f){}if(document.documentElement.doScroll&&e)return d()}};return b}();"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;c<f;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;c<f;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;d<c;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),com.adtech.RichMediaEvent=function(a){this.type=a,this.target=null,this.currentTarget=null},com.adtech.RichMediaEvent.DOM_LOAD="DOMLoad",com.adtech.RichMediaEvent.ENGAGEMENT="engagement",com.adtech.RichMediaEvent.VIEWABLE_IMPRESSION="viewableImpression",com.adtech.RichMediaEvent.INTERACTIVE_IMPRESSION="interactiveImpression",com.adtech.RichMediaEvent.VIDEO_IMPRESSION="videoImpression",com.adtech.RichMediaEvent.QUALIFIED_ROLLOVER="qualifiedRollover",com.adtech.RichMediaEvent.BACKUP_VIEW="backupView",com.adtech.RichMediaEvent.UNSUPPORTED_CLIENT="unsupportedClient",com.adtech.RichMediaEvent.BACKUP_VIEWABLE_IMPRESSION="backupViewableImpression",com.adtech.RichMediaEvent.INDETERMINABLE_VIEWABILITY="indeterminableViewability",com.adtech.RichMediaEvent.MOUSE_MOVE="mouseMove",com.adtech.RichMediaEvent.VIEWABLE_CHANGE="viewableChange",com.adtech.RichMediaEvent.CONTAINER_RESIZE="resize",com.adtech.RichMediaEvent.MOUSE_OUT="mouseOut",com.adtech.RichMediaEvent.MOUSE_OVER="mouseOver",com.adtech.RichMediaEvent.PAGE_LOAD="pageLoad",com.adtech.RichMediaEvent.PAGE_SCROLL="pageScroll",com.adtech.RichMediaEvent.BLUR="blur",com.adtech.RichMediaEvent.ORIENTATION_CHANGE="orientationChange",com.adtech.RichMediaEvent.TOUCH_START="touchStart",com.adtech.RichMediaEvent.FOCUS="focus",com.adtech.RichMediaEvent.RENDER="render",com.adtech.RichMediaEvent.REPORT="reporting",com.adtech.RichMediaEvent.ADVERT_ADDED="advertAdded",com.adtech.RichMediaEvent.PAGE_RESIZE="pageResize",com.adtech.RichMediaEvent.SERVE="serve",com.adtech.RichMediaEvent.IN_VIEWPORT="inViewport",com.adtech.RichMediaEvent.OUT_VIEWPORT="outViewport",com.adtech.RichMediaEvent.EXPAND="expand",com.adtech.RichMediaEvent.EXPANDED="ADTECH.expanded",com.adtech.RichMediaEvent.CONTRACTED="ADTECH.contracted",com.adtech.RichMediaEvent.LOADED="ADTECH.loaded",com.adtech.RichMediaEvent.CLICK="click",com.adtech.RichMediaEvent.CLOSE="close",com.adtech.RichMediaEvent.HIDE="hide",com.adtech.RichMediaEvent.SHOW="show",com.adtech.RichMediaEvent.READY="ready",com.adtech.RichMediaEvent.ERROR="error",com.adtech.RichMediaEvent.MRAID_READY="MRAIDReady",com.adtech.RichMediaEvent.MRAID_ERROR="MRAIDError",com.adtech.RichMediaEvent.MRAID_VIEWABLE_CHANGE="viewableChange",com.adtech.RichMediaEvent.MRAID_STATE_CHANGE="stateChange",com.adtech.RichMediaEvent.MRAID_KEYBOARD_CHANGE="keyboardChange",com.adtech.RichMediaEvent.MRAID_LOCATION_CHANGE="locationChange",com.adtech.RichMediaEvent.MRAID_HEADING_CHANGE="headingChange",com.adtech.RichMediaEvent.MRAID_NETWORK_CHANGE="networkChange",com.adtech.RichMediaEvent.MRAID_ORIENTATION_CHANGE="orientationChange",com.adtech.RichMediaEvent.MRAID_SCREEN_CHANGE="screenChange",com.adtech.RichMediaEvent.MRAID_SIZE_CHANGE="sizeChange",com.adtech.RichMediaEvent.MRAID_TILT_CHANGE="tiltChange",com.adtech.RichMediaEvent.MRAID_SHAKE="shake",com.adtech.RichMediaEvent.MRAID_RESPONSE="response",com.adtech.RichMediaEvent.CONFIG_CHANGE="ADTECH.configChange",com.adtech.RichMediaEvent.DYNAMIC="PICTELA.dynamic",com.adtech.RichMediaEvent.DCO_DATA_ERROR="dcoDataError",com.adtech.RichMediaEvent.DURATION_START="durationStart",com.adtech.RichMediaEvent.DURATION_END="durationEnd",com.adtech.RichMediaEvent.VIDEO="video",com.adtech.RichMediaEvent.VIDEO_INTERACTION="videoInteraction",com.adtech.RichMediaEvent.THIRD_PARTY="thirdParty",com.adtech.RichMediaEvent.prototype.property=function(a,b){return"type"!=a&&"target"!=a&&(this[a]=b),this},com.adtech.MRAIDState={},com.adtech.MRAIDState.DEFAULT="default",com.adtech.MRAIDState.EXPANDED="expanded",com.adtech.MRAIDState.HIDDEN="hidden",com.adtech.MRAIDState.LOADING="loading",com.adtech.MRAIDState.RESIZED="resized",com.adtech.EventDispatcher=function(){this.eventTypes={}},com.adtech.EventDispatcher.prototype.addEventListener=function(a,b,c){"undefined"==typeof this.eventTypes[a]&&(this.eventTypes[a]=[]),com.adtech.Utils.inArray(b,this.eventTypes[a])||("undefined"==typeof c?this.eventTypes[a].push(b):this.eventTypes[a].push({ref:c,handler:b}))},com.adtech.EventDispatcher.prototype.removeEventListener=function(a,b,c){if("undefined"!=typeof this.eventTypes[a])for(var d=this.eventTypes[a].length,e=0;e<d;e++){var f=this.eventTypes[a][e],g="undefined"==typeof c?"function":"object";if(g==typeof f)switch(g){case"function":f==b&&this.eventTypes[a].splice(e,1);break;case"object":f.handler==b&&f.ref==c&&this.eventTypes[a].splice(e,1)}}},com.adtech.EventDispatcher.prototype.hasEventListener=function(a,b,c){if("undefined"==typeof this.eventTypes[a]||0==this.eventTypes[a].length)return!1;for(var d=this.eventTypes[a].length,e=0;e<d;e++){var f=this.eventTypes[a][e],g="undefined"==typeof c?"function":"object";if(g==typeof f)switch(g){case"function":if(f===b)return!0;break;case"object":if(f.handler===b&&f.ref===c)return!0}}return!1},com.adtech.EventDispatcher.prototype.dispatchEvent=function(a){if("string"==typeof a&&(a=new com.adtech.RichMediaEvent(a)),"string"==typeof a.type&&"undefined"!=typeof this.eventTypes[a.type]){"undefined"!=typeof a.target&&null!==a.target||(a.target=this),a.currentTarget=this;for(var b=this.eventTypes[a.type].slice(0),c=0;c<b.length;c++){var d=b[c];"object"==typeof d?d.handler.call(d.ref,a):d(a)}}},com.adtech.Utils={},com.adtech.Utils.registerNativeEventHandler=function(a,b,c){com.adtech.Utils.removeNativeEventHandler(a,b,c),"function"==typeof a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},com.adtech.Utils.removeNativeEventHandler=function(a,b,c){"function"==typeof a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)},com.adtech.Utils.getDCOMapContent=function(a,b,c){var d="baseProperties";for(var e in a){var f=e==b||!c&&e==d;if(a.hasOwnProperty(e)&&f)for(var g=a[e],h=0,i=g.length;h<i;h++){var j=g[h],k=e==d?b:c;if(j.mapping&&j.mapping[k])return j}}return null},com.adtech.Utils.createClosure=function(a,b){var c=[].slice.call(arguments,2),d=function(){var a=arguments.callee,b=[].slice.call(arguments),c=a.extraArgs.concat(b,[a]);return a.handler.apply(a.target,c)};return d.extraArgs=c,d.target=a,d.handler=b,d},com.adtech.Utils.getQueryStringVariable=function(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return e[1]}return null},com.adtech.Utils.inArray=function(a,b){for(var c in b)if(b[c]==a)return!0;return!1},com.adtech.Utils.extend=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.supa=b.prototype,b.prototype.constructor==Object.prototype.constructor&&(b.prototype.constructor=b)},com.adtech.Utils.getViewportDims=function(){var a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,b=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return{w:a,h:b}},com.adtech.Utils.isArray=function(a){return"array"==Object.prototype.toString.call(a).slice(8,-1).toLowerCase()},com.adtech.Utils.supportsTouch=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||"onpointerdown"in window&&navigator.userAgent.match(/Touch/g)||"onMSPointerDown"in window&&navigator.userAgent.match(/Touch/g)},com.adtech.Advert=com.adtech.Advert||function(){},com.adtech.Advert.ENGAGEMENT_THRESHOLD=2e3,com.adtech.Advert.QUALIFIED_ROLLOVER_THRESHOLD=500,com.adtech.Advert.MOBILE_INTERACTION_THRESHOLD=1e4,com.adtech.Advert.VIEWABLE_IMPRESSION_THRESHOLD=1e3,com.adtech.Advert.MOUSE_OVER_TIMERS_FLUSH_TIMEOUT=1e3,com.adtech.Advert.TIMER_LOGGING_THRESHOLD=9e5,com.adtech.Advert.INPAGE_UNIT_CHECK_INTERVAL=1e3,com.adtech.Advert.TRACK_TYPE_PIXEL="1_PIXEL",com.adtech.Advert.TRACK_TYPE_JS="JS_URL",com.adtech.Advert.TRACK_TYPE_REDIRECT="REDIRECT_URL",com.adtech.Advert.TRACK_EVENT_VIEW="VIEW",com.adtech.Advert.TRACK_EVENT_INTERACTION="INTERACTION",com.adtech.Advert.TRACK_EVENT_SPECIFIC_EVENT="SPECIFIC_EVENT",com.adtech.Advert.TRACK_EVENT_SPECIFIC_CLICK="SPECIFIC_CLICK",com.adtech.Advert.TRACK_EVENT_CLICKS_ALL="CLICKS_ALL",com.adtech.Advert.TRACK_EVENT_ALL="EVENTS_ALL",com.adtech.Advert.TRACK_EVENT_INTERACTIONS_ALL="INTERACTIONS_ALL",com.adtech.Advert.DISPLAY_TIMER="displayTimer",com.adtech.Advert.VIEW_TIMER="viewTimer",com.adtech.Advert.ENGAGEMENT_TIMER="engagementTimer",com.adtech.Advert.INTERACTION_TIMER="interactionTimer",com.adtech.Advert.EXPANSION_TIMER="expansionTimer",com.adtech.Advert.DEFAULT_CLICK="default",com.adtech.Advert.BACKUP_CLICK="backupImageClickthrough",com.adtech.Advert.ALT_TEXT_VARIABLE_KEY="Backup Alt Text",com.adtech.Advert.ACTION_TARGET_SELF="self",com.adtech.Advert.ACTION_TARGET_WILDCARD="*",com.adtech.Advert.MACRO_AD_TIME="_ADTIME_",com.adtech.Advert.MACRO_TIMESTAMP="_TIMESTAMP_",com.adtech.Advert.MACRO_ASSET="_ASSETSHOST_",com.adtech.Advert.CONFIG_TRACKING_MACROS_KEY="trackingMacros",com.adtech.Advert.BUYSIGHT_KEY="buysightDataKey",com.adtech.Advert.CONTENT_SEPARATOR=": ",com.adtech.Advert.CONTENT_PROPERTY_TRACKING_KEY="Tracking Id",com.adtech.Advert.CONTENT_PROPERTY_PARENT_TRACKING_KEY="Parent Tracking Id",com.adtech.Advert.VIDEO_EVENT_VIEW="Video View",com.adtech.Advert.VIDEO_EVENT_START="Video Start",com.adtech.Advert.VIDEO_EVENT_RESUME="Video Resume",com.adtech.Advert.VIDEO_EVENT_REPLAY="Video Replay",com.adtech.Advert.VIDEO_EVENT_PAUSE="Video Pause",com.adtech.Advert.VIDEO_EVENT_PLAY="Video Play",com.adtech.Advert.VIDEO_FIRST_QUARTILE="Video First Quartile",com.adtech.Advert.VIDEO_MIDPOINT="Video Midpoint",com.adtech.Advert.VIDEO_THIRD_QUARTILE="Video Third Quartile",com.adtech.Advert.VIDEO_EVENT_COMPLETE="Video Complete",com.adtech.Advert.VIDEO_EVENT_MUTE="Video Mute",com.adtech.Advert.OPT_TRACKING_KEYS={creativeId:"kvu.3rd-creative",placementId:"kvu.3rd-plc"},com.adtech.Advert.VIDEO_BUFFERING_EVENT="Video Buffering",com.adtech.Advert.VIDEO_BUFFERING_END_EVENT="Video Buffering End",com.adtech.Advert.VIDEO_AUTO_PAUSE_EVENT="Video Auto-Pause",com.adtech.Advert.VIDEO_AUTO_RESUME_EVENT="Video Auto-Resume",com.adtech.Advert.TAGVARS_SUBSTITUTION_MAP={__SC__:";"},com.adtech.HtmlContent=com.adtech.HtmlContent||function(){},com.adtech.HtmlContent.CMD_TYPE_DISPATCH="dispatch",com.adtech.HtmlContent.CMD_TYPE_EXEC="exec",com.adtech.HtmlContent.CMD_TYPE_INIT="init",com.adtech.HtmlContent.CMD_TYPE_MRAID="CMD_MRAID",com.adtech.HtmlContent.CMD_TYPE_VPAID="CMD_VPAID",com.adtech.HtmlContent.PROPERTY_DELIM="A$T$P",com.adtech.HtmlContent.OBJECT_DELIM="A#T#O",com.adtech.HtmlContent.KEY_VALUE_DELIM="#:#",com.adtech.HtmlContent.ENVIRONMENT_WEB="WEB",com.adtech.HtmlContent.ENVIRONMENT_MRAID="MRAID",com.adtech.HtmlContent.ENVIRONMENT_ORMMA="ORMMA",com.adtech.HtmlContent.ENVIRONMENT_VPAID="VPAID",com.adtech.Core=function(){com.adtech.Core.supa.constructor.call(this),this.rmLibVersion=null,this.readyCallbacks=[],this.initialised=!1,this.configLoaded=!1,this.domLoaded=!1,this.dataFeedRequestQueue=[],this.dataFeedRequestInProcess=!1,this.macroMap={},this.mouseX=-1,this.mouseY=-1,this.mraid=new com.adtech.MRAID(this),this.postMessage=window.parent.postMessage.bind(window.parent),this.VPAID=null;try{var a=document.querySelector('meta[name="ad.frame"]');if(a&&"child"===a.getAttribute("content")){var b=this,c=parent.ADTECH;if(c&&parent!==window){for(var d=["addEventListener","removeEventListener","hasEventListener","click","dynamicClick","contentClick","contentView","event","isPageLoaded"],e=0;e<d.length;e++)b[d[e]]=c[d[e]].bind(c);b.init=function(){ADTECHDomReady(function(){c.ready(function(){b.initialised=!0,b.adConfig=c.adConfig,b.callReadyCallbacks()})})}}}}catch(f){}this.init()},com.adtech.Utils.extend(com.adtech.Core,com.adtech.EventDispatcher),com.adtech.Core.VIDEO_CONTENT_EVENT_SEPARATOR=":",com.adtech.Core.VPAID_MODULE_VERSION="VPAID/0.1.0/VPAID",com.adtech.Core.prototype.init=function(){ADTECHDomReady(com.adtech.Utils.createClosure(this,this.domLoadHandler)),this.pageLoaded=null!=com.adtech.Utils.getQueryStringVariable("pageLoaded"),this.addPostMessageListener(),this.sendMessage(this.constructMessage(com.adtech.HtmlContent.CMD_TYPE_INIT))},com.adtech.Core.prototype.setMacroMap=function(){var a=this.adConfig.tagVars[com.adtech.Advert.CONFIG_TRACKING_MACROS_KEY];if("object"==typeof a)for(var b in a)a.hasOwnProperty(b)&&(this.macroMap["##"+b+"##"]=a[b]);this.macroMap[com.adtech.Advert.MACRO_AD_TIME]=this.adConfig.adServerVars.uid},com.adtech.Core.prototype.addPostMessageListener=function(){com.adtech.Utils.registerNativeEventHandler(window,"message",com.adtech.Utils.createClosure(this,this.postMessageHandler))},com.adtech.Core.prototype.addMouseMoveListener=function(){this.mouseMoveHandlerClosure=com.adtech.Utils.createClosure(this,this.mouseMoveHandler),com.adtech.Utils.registerNativeEventHandler(document,"mousemove",this.mouseMoveHandlerClosure)},com.adtech.Core.prototype.removeMouseMoveListener=function(){this.mouseMoveHandlerClosure&&com.adtech.Utils.removeNativeEventHandler(document,"mousemove",this.mouseMoveHandlerClosure)},com.adtech.Core.prototype.sendMessage=function(a){parent.postMessage(a,"*")},com.adtech.Core.prototype.constructMessageKeyValuePair=function(a,b){return a+com.adtech.HtmlContent.KEY_VALUE_DELIM+b+com.adtech.HtmlContent.PROPERTY_DELIM},com.adtech.Core.prototype.constructMessage=function(a,b){var c=a;if(void 0!=b){var d="string"==typeof b?b:JSON.stringify(b);c+=com.adtech.HtmlContent.OBJECT_DELIM+d}return c},com.adtech.Core.prototype.constructMessageObject=function(a){var b={},c=a.split(com.adtech.HtmlContent.OBJECT_DELIM);if(b.cmd=c[0],this.useJSONMessageSerialisation()||c.length>1&&0==c[1].indexOf("{"))b.payload=c[1]?JSON.parse(c[1]):{};else if(c.length>1){b.vars={};for(var d=c[1].split(com.adtech.HtmlContent.PROPERTY_DELIM),e=0;e<d.length;e++)if(!(d[e].indexOf(com.adtech.HtmlContent.KEY_VALUE_DELIM)<0)){var f=d[e].split(com.adtech.HtmlContent.KEY_VALUE_DELIM);b.vars[f[0]]=f[1]}}return b},com.adtech.Core.prototype.dispatchReadyEvent=function(){this.initialised||(this.initialised=!0,com.adtech.Utils.supportsTouch()&&this.sendSupportsTouchMessage(),this.dispatchEvent(com.adtech.RichMediaEvent.READY),this.callReadyCallbacks(),this.addMouseMoveListener())},com.adtech.Core.prototype.callReadyCallbacks=function(){for(var a=0;a<this.readyCallbacks.length;a++){var b=this.readyCallbacks[a];if("function"==typeof b.callback)try{b.callback.apply(null,b.deps)}catch(c){this.logError("Failed to execute callback: "+c)}}this.readyCallbacks=[]},com.adtech.Core.prototype.initEventMetaData=function(a){return a=a||{},a.__mouseX=this.mouseX,a.__mouseY=this.mouseY,a},com.adtech.Core.prototype.isPageLoaded=function(){return this.pageLoaded},com.adtech.Core.prototype.isInitialised=function(){return this.initialised},com.adtech.Core.prototype.event=function(a,b){if(this.useJSONMessageSerialisation()){var c={type:a};b=this.initEventMetaData(b),c.meta=b}else var c=this.constructMessageKeyValuePair("type",a);this.sendMessage(this.constructMessage(com.adtech.HtmlContent.CMD_TYPE_DISPATCH,c))},com.adtech.Core.prototype.contentView=function(a,b){var c={method:"contentView",params:[].slice.call(arguments)};this.sendMessage(this.constructMessage(com.adtech.HtmlContent.CMD_TYPE_EXEC,c))},com.adtech.Core.prototype.contentEvent=function(a,b,c){void 0!=c&&c&&void 0!=c[com.adtech.Advert.CONTENT_PROPERTY_TRACKING_KEY]?this.event(a+com.adtech.Advert.CONTENT_SEPARATOR+c[com.adtech.Advert.CONTENT_PROPERTY_TRACKING_KEY]+com.adtech.Advert.CONTENT_SEPARATOR+b):this.event(a+com.adtech.Advert.CONTENT_SEPARATOR+b)},com.adtech.Core.prototype.childContentEvent=function(a,b,c,d){void 0!=d&&d&&void 0!=d[com.adtech.Advert.CONTENT_PROPERTY_TRACKING_KEY]&&void 0!=d[com.adtech.Advert.CONTENT_PROPERTY_PARENT_TRACKING_KEY]&&this.event(a+com.adtech.Advert.CONTENT_SEPARATOR+d[com.adtech.Advert.CONTENT_PROPERTY_PARENT_TRACKING_KEY]+com.adtech.Advert.CONTENT_SEPARATOR+d[com.adtech.Advert.CONTENT_PROPERTY_TRACKING_KEY]+com.adtech.Advert.CONTENT_SEPARATOR+c)},com.adtech.Core.prototype.getTimer=function(a){return new com.adtech.Timer(a,this)},com.adtech.Core.prototype.getContentVariable=function(a,b){return void 0!=this.adConfig.contentVariables[a]?this.adConfig.contentVariables[a]:b},com.adtech.Core.prototype.getContent=function(a){return void 0!=this.adConfig.contentProperties&&void 0!=this.adConfig.contentProperties[a]?this.replaceContentPropertyFileValue(this.adConfig.contentProperties[a]):null},com.adtech.Core.prototype.replaceContentPropertyFileValue=function(a){switch(typeof a){case"string":return this.getFileUrl(a);case"object":return this.replaceContentPropertyFileValues(a);default:return a}},com.adtech.Core.prototype.replaceContentPropertyFileValues=function(a){if(com.adtech.Utils.isArray(a)){for(var b=[],c=0;c<a.length;c++)b.push(this.replaceContentPropertyFileValue(a[c]));return b}var d={},e=[com.adtech.Advert.CONTENT_PROPERTY_TRACKING_KEY,com.adtech.Advert.CONTENT_PROPERTY_PARENT_TRACKING_KEY];for(var f in a)if(a.hasOwnProperty(f)){if(com.adtech.Utils.inArray(f,e)){d[f]=a[f];continue}d[f]=this.replaceContentPropertyFileValue(a[f])}return d},com.adtech.Core.prototype.getServicesHosts=function(){return{GET:this.adConfig.servicesHosts[this.adConfig.adServerVars.servingProto],POST:this.adConfig.servicesHosts.post}},com.adtech.Core.prototype.getOffsetX=function(){return this.adConfig.assetContainers.main.contractedX},com.adtech.Core.prototype.getOffsetY=function(){return this.adConfig.assetContainers.main.contractedY},com.adtech.Core.prototype.setReportingIdFromContent=function(a,b,c){var d=a;void 0!=c&&void 0!=c[com.adtech.Advert.CONTENT_PROPERTY_TRACKING_KEY]&&(d+=com.adtech.Advert.CONTENT_SEPARATOR+c[com.adtech.Advert.CONTENT_PROPERTY_TRACKING_KEY]),d+=com.adtech.Advert.CONTENT_SEPARATOR,d=d.substring(0,d.length-1),this.registerVideoPlayer(b,d)},com.adtech.Core.prototype.click=function(a,b){this.executeClick(a)},com.adtech.Core.prototype.dynamicClick=function(a,b){this.executeClick(a,b)},com.adtech.Core.prototype.contentClick=function(a,b,c,d){var e;e=void 0!=c&&void 0!=c[com.adtech.Advert.CONTENT_PROPERTY_TRACKING_KEY]?a+com.adtech.Advert.CONTENT_SEPARATOR+c[com.adtech.Advert.CONTENT_PROPERTY_TRACKING_KEY]+com.adtech.Advert.CONTENT_SEPARATOR+b:a+com.adtech.Advert.CONTENT_SEPARATOR+b;var f={method:"contentClick",params:[a,c]};this.sendMessage(this.constructMessage(com.adtech.HtmlContent.CMD_TYPE_EXEC,f)),!d&&this.adConfig.dynamic&&this.contentIsDynamic(a,b)&&(d=void 0!=c?c[b]:this.getContent(a)[b]),this.executeClick(e,d)},com.adtech.Core.prototype.contentIsDynamic=function(a,b,c){var d=this.adConfig.adrConfig||this.adConfig.dcoConfig;if(d){var e=com.adtech.Utils.getDCOMapContent(d.map,a,b);if(e){if(c){var f=e.dcoType||e.adrType;return f==c}return!0}}return!1},com.adtech.Core.prototype.getFileUrl=function(a){for(var b=this.adConfig.adServerVars.assetBaseURL?this.adConfig.adServerVars.assetBaseURL:this.adConfig.adServerVars.baseURL,c=0;c<this.adConfig.assets.length;c++){var d=this.adConfig.assets[c];if(d.name==a)return b+d.url}return a},com.adtech.Core.prototype.getFileUrlById=function(a,b){for(var c=this.adConfig.adServerVars.assetBaseURL?this.adConfig.adServerVars.assetBaseURL:this.adConfig.adServerVars.baseURL,d=0;d<this.adConfig.assets.length;d++){var e=this.adConfig.assets[d];if(e.id==a)return c+e.url}return b},com.adtech.Core.prototype.getGeoValue=function(a,b){var c=this.adConfig.geoData[a];return void 0==c||"_AD"==c.substring(0,3)?b:c},com.adtech.Core.prototype.expand=function(a){this.event("expand",a)},com.adtech.Core.prototype.contract=function(){this.event("contract")},com.adtech.Core.prototype.close=function(){this.event("close")},com.adtech.Core.prototype.show=function(){this.event("show")},com.adtech.Core.prototype.hide=function(){this.event("hide")},com.adtech.Core.prototype.reload=function(){this.event("reload")},com.adtech.Core.prototype.callback=function(a){this.ready(a)},com.adtech.Core.prototype.ready=function(a,b){if(com.adtech.Utils.isArray(a)){var c=this;this.require(a,function(){c.checkReadyState({callback:b,deps:Array.prototype.slice.call(arguments)})})}else this.checkReadyState({callback:a,deps:[]})},com.adtech.Core.prototype.checkReadyState=function(a){this.initialised?"function"==typeof a.callback&&a.callback.apply(null,a.deps):this.readyCallbacks.push(a)},com.adtech.Core.prototype.getConfigValue=function(a){var b=a.split("."),c=b.length;if(c>0){for(var d=this.adConfig,e=0;e<c;e++)try{d=d[b[e]]}catch(f){}try{d.toString();return d}catch(f){}}return""};com.adtech.Core.prototype.getDataFeed=function(a,b,c,d){var e=d||null,f=this.getServicesHosts().GET+"a/proxy/text?url="+encodeURIComponent(b);this.addToDataFeedQueue({name:a,url:f,callback:c,scope:e})};com.adtech.Core.prototype.getPollResults=function(a,b,c){var d=c||null,e=this.getServicesHosts().GET+"a/poll/"+encodeURIComponent(a)+"/"+this.adConfig.canvasId+".json";this.addToDataFeedQueue({name:a,url:e,callback:b,scope:d})},com.adtech.Core.prototype.submitPollResponse=function(a,b,c,d){var e;try{e=JSON.stringify(b)}catch(f){return void this.logError("Failed to serialise poll data: "+f)}var g="pictela_id="+this.adConfig.canvasId+"&poll_name="+a+"&poll_answers="+encodeURIComponent(e);this.xhrArray=this.xhrArray||[],this.pollResponseCallbacks=this.pollResponseCallbacks||[],this.pollResponseCallbacks.push({callback:c,scope:d});var h=this.xhrArray.length,i=this.getServicesHosts().POST+"a/poll.json";if(!window.XDomainRequest||window.XMLHttpRequest&&void 0!=(new window.XMLHttpRequest).responseType){this.xhrArray[h]=new XMLHttpRequest,this.xhrArray[h].open("POST",i,!0),this.xhrArray[h].withCredentials=!0,this.xhrArray[h].setRequestHeader("Content-type","application/x-www-form-urlencoded");var j=this;this.xhrArray[h].onreadystatechange=function(){4===j.xhrArray[h].readyState&&200===j.xhrArray[h].status&&j.pollSubmitResponseHandler()}}else this.xhrArray[h]=new XDomainRequest,this.xhrArray[h].onload=com.adtech.Utils.createClosure(this,this.pollSubmitResponseHandler),this.xhrArray[h].open("POST",i.replace(/^https?:/i,""));this.xhrArray[h].send(g)},com.adtech.Core.prototype.captureData=function(a,b){try{serialisedData=JSON.stringify(a)}catch(c){return void this.logError("Failed to serialise datacapture data: "+c)}if("undefined"==typeof b)a.adtech_canvas_id=this.adConfig.canvasId,a.adtech_flight_id=this.adConfig.adServerVars.id,a.adtech_banner_id=this.adConfig.adServerVars.bannerId,a.adtech_is_preview=this.adConfig.preview,this.sendDataToUrl(this.adConfig.servicesUrl+"capture",a);else{a.pictela_advert_id=this.adConfig.canvasId,a.pictela_flight_id=this.adConfig.adServerVars.id;var d,e=this.getServicesHosts().POST+"a/capture/"+b;!window.XDomainRequest||window.XMLHttpRequest&&void 0!=(new window.XMLHttpRequest).responseType?d=new XMLHttpRequest:(d=new XDomainRequest,e=e.replace(/^https?:/i,"")),d.open("POST",e,!0),d.send(serialisedData)}},com.adtech.Core.prototype.addMRAIDStateChangeHandlers=function(a){"object"==typeof a&&(this.mraid.stateChangeCallbacks=a)},com.adtech.Core.prototype.logError=function(a){"undefined"!=typeof console&&console.warn("[PTLA]",a)},com.adtech.Core.prototype.addToDataFeedQueue=function(a){this.dataFeedRequestQueue.push(a),this.dataFeedRequestInProcess||this.loadExternalDataFeed(a)},com.adtech.Core.prototype.loadExternalDataFeed=function(a){this.dataFeedRequestInProcess=!0;var b=document.createElement("script"),c=a.url;c.indexOf("?")<0&&(c+="?"),b.src=c+"&callback=ADTECH.externalDataFeedLoadHandler",document.body.appendChild(b)},com.adtech.Core.prototype.checkDataFeedQueue=function(){this.dataFeedRequestQueue.length>0?this.loadExternalDataFeed(this.dataFeedRequestQueue[0]):this.dataFeedRequestInProcess=!1},com.adtech.Core.prototype.logClick=function(a,b,c){if(this.useJSONMessageSerialisation())var d={method:"logClick",params:[].slice.call(arguments)};else var d=this.constructMessageKeyValuePair("method","logClick")+this.constructMessageKeyValuePair("params",a);this.sendMessage(this.constructMessage(com.adtech.HtmlContent.CMD_TYPE_EXEC,d))},com.adtech.Core.prototype.executeClick=function(a,b,c){if(a=this.verifyClickIdentifier(a),"undefined"!=typeof this.adConfig.clickthroughs[a]){this.removeMouseMoveListener(),c=this.initEventMetaData(c);var d=this.adConfig.clickthroughs[a],e=this.generateClickUrl(a,b);if(this.logClick(a,b,c),this.env!==com.adtech.HtmlContent.ENVIRONMENT_WEB&&this.env!==com.adtech.HtmlContent.ENVIRONMENT_VPAID)return;switch(d.target){case"_self":top.location.href=e;break;default:window.open(e,this.adConfig.adServerVars.uid+ +new Date,d.features)}var f=this;setTimeout(function(){f.addMouseMoveListener()},1e3)}},com.adtech.Core.prototype.generateClickUrl=function(a,b){var c="undefined"!=typeof this.adConfig.adtechDisableClickTracking;if(a=this.verifyClickIdentifier(a),"undefined"!=typeof this.adConfig.clickthroughs[a]){var d=this.adConfig.clickthroughs[a],e="undefined"!=typeof b&&b?b:d.dest;if(!c){e=this.addThirdPartyRedirectsToClickUrl(a,e);var f=this.generateClickRedirectUrl({id:d.id});f&&(e=f+escape(e)),"undefined"!=typeof this.adConfig.pubVars.clickRedirect&&this.adConfig.pubVars.clickRedirect&&(e=this.replaceServerMacros(this.adConfig.pubVars.clickRedirect)+e)}return e}return""},com.adtech.Core.prototype.generateClickRedirectUrl=function(a){var b="";if("undefined"!=typeof this.adConfig.clickRedirect&&this.adConfig.clickRedirect){b=this.adConfig.clickRedirect.replace(/_CLK_ID_/g,a.id);var c=";link=",d=new RegExp(c,"g"),e=com.adtech.Advert.OPT_TRACKING_KEYS;"undefined"!=typeof this.adConfig.tagVars.creativeId&&(b=b.replace(d,";"+e.creativeId+"="+this.adConfig.tagVars.creativeId+c)),"undefined"!=typeof this.adConfig.tagVars.placementId&&(b=b.replace(d,";"+e.placementId+"="+this.adConfig.tagVars.placementId+c))}return b},com.adtech.Core.prototype.verifyClickIdentifier=function(a){return"undefined"!=typeof a&&null!=a&&a?a:"default"},com.adtech.Core.prototype.addThirdPartyRedirectsToClickUrl=function(a,b){for(var c=0;c<this.adConfig.thirdPartyTracking.length;c++){var d=this.adConfig.thirdPartyTracking[c];this.clickMustMakeThirdPartyRequest(d,a)&&d.type==com.adtech.Advert.TRACK_TYPE_REDIRECT&&d.url&&(b=this.replaceServerMacros(d.url)+escape(b))}return b},com.adtech.Core.prototype.replaceServerMacros=function(a){for(var b in this.macroMap)a=a.replace(b,this.macroMap[b]);return a.replace(com.adtech.Advert.MACRO_TIMESTAMP,+new Date)},com.adtech.Core.prototype.clickMustMakeThirdPartyRequest=function(a,b){return a.onEvent==com.adtech.Advert.TRACK_EVENT_CLICKS_ALL||a.onEvent==com.adtech.Advert.TRACK_EVENT_ALL||a.onEvent==com.adtech.Advert.TRACK_EVENT_SPECIFIC_CLICK&&a.eventName==b},com.adtech.Core.prototype.sendDataToUrl=function(a,b,c){c=c||"post";var d=document.createElement("iframe");d.style.display="none",document.body.appendChild(d);var e="pctf_"+Math.random().toString().split(".")[1];d.contentWindow.name=e;var f=document.createElement("form");f.setAttribute("method",c),f.setAttribute("action",a),f.setAttribute("target",e);for(var g in b){var h=document.createElement("input");h.setAttribute("type","hidden"),h.setAttribute("name",g),h.setAttribute("value",b[g]),f.appendChild(h)}document.body.appendChild(f),f.submit()},com.adtech.Core.prototype.sendSupportsTouchMessage=function(){if(this.useJSONMessageSerialisation()){var a={method:"touchStart",params:[]};this.sendMessage(this.constructMessage(com.adtech.HtmlContent.CMD_TYPE_EXEC,a))}},com.adtech.Core.prototype.externalDataFeedLoadHandler=function(a){var b=this.dataFeedRequestQueue.shift();b.callback.call(b.scope,a),this.checkDataFeedQueue()},com.adtech.Core.prototype.useJSONMessageSerialisation=function(){return this.rmLibVersion&&(this.rmLibVersion.major>2||2==this.rmLibVersion.major&&(this.rmLibVersion.minor>5||5==this.rmLibVersion.minor&&this.rmLibVersion.revision>=6))},com.adtech.Core.prototype.setRmLibVersionInfo=function(){if(this.adConfig.rmLibVersion){var a=this.adConfig.rmLibVersion.split("_");3==a.length&&(this.rmLibVersion={major:parseInt(a[0]),minor:parseInt(a[1]),revision:parseInt(a[2])})}},com.adtech.Core.prototype.coreEventHandler=function(a,b){switch(a){case com.adtech.RichMediaEvent.READY:this.domLoaded&&this.dispatchReadyEvent(),this.configLoaded=!0;break;case com.adtech.RichMediaEvent.PAGE_LOAD:this.pageLoaded=!0,this.dispatchEvent(a);break;default:var c=new com.adtech.RichMediaEvent(a);if("object"==typeof b)for(var d in b)"type"!=d&&b.hasOwnProperty(d)&&(c[d]=b[d]);this.dispatchEvent(c)}},com.adtech.Core.prototype.domLoadHandler=function(){this.configLoaded&&this.dispatchReadyEvent(),this.domLoaded=!0},com.adtech.Core.prototype.postMessageHandler=function(a){
var b=this.constructMessageObject(a.data),c=b.vars?b.vars:b.payload,d=null;switch(b.cmd){case com.adtech.HtmlContent.CMD_TYPE_INIT:if(c.env)return void(this.env=c.env);this.adConfig="string"==typeof c.adConfig?JSON.parse(c.adConfig):c.adConfig,this.setRmLibVersionInfo(),this.setMacroMap(),this.env===com.adtech.HtmlContent.ENVIRONMENT_VPAID?ADTECH.require([com.adtech.Core.VPAID_MODULE_VERSION],function(a){d=a.create(this),this.VPAID=d,d.init(),this.coreEventHandler(com.adtech.RichMediaEvent.READY)}.bind(this)):this.coreEventHandler(com.adtech.RichMediaEvent.READY);break;case com.adtech.HtmlContent.CMD_TYPE_DISPATCH:this.coreEventHandler(c.type,c);break;case com.adtech.HtmlContent.CMD_TYPE_MRAID:this.mraid.postMessageHandler(b);break;case com.adtech.HtmlContent.CMD_TYPE_VPAID:this.VPAID&&this.VPAID.postMessageHandler(c)}},com.adtech.Core.prototype.pollSubmitResponseHandler=function(){if(this.xhrArray){var a=this.pollResponseCallbacks.shift(),b=this.xhrArray.shift(),c=JSON.parse(b.responseText);a.scope?a.callback.call(a.scope,c):a.callback.call(null,c)}},com.adtech.Core.prototype.mouseMoveHandler=function(a){this.mouseX=a.clientX,this.mouseY=a.clientY},com.adtech.Timer=function(a,b){this.name=a,this.core=b},com.adtech.Timer.prototype.timerAction=function(a,b){b=b||{};var c={method:"timerAction",params:{action:a,name:this.name,meta:b}};this.core.sendMessage(this.core.constructMessage(com.adtech.HtmlContent.CMD_TYPE_EXEC,c))},com.adtech.Timer.prototype.start=function(a){this.startTime=Date.now(),this.timerAction.call(this,"start",a)},com.adtech.Timer.prototype.stop=function(a){this.timerAction.call(this,"stop",a),this.startTime||console.warn("Timer '"+this.name+"' not started. Please call start() before stop()."),this.startTime=null},com.adtech.MRAID=function(a){com.adtech.MRAID.supa.constructor.call(this),this.core=a,window.mraid=this,this.stateChangeCallbacks={},this.mraidContainerState=com.adtech.MRAIDState.LOADING,this.core.addEventListener(com.adtech.RichMediaEvent.READY,this.coreReadyEventHandler,this)},com.adtech.Utils.extend(com.adtech.MRAID,com.adtech.EventDispatcher),com.adtech.MRAID.prototype.addEventListener=function(a,b,c){null==this.core.rmLibVersion||this.hasEventListener(a,b,c)||this.sendMessage("addEventListener",a),com.adtech.MRAID.supa.addEventListener.call(this,a,b,c)},com.adtech.MRAID.prototype.removeEventListener=function(a,b,c){null!=this.core.rmLibVersion&&this.sendMessage("removeEventListener",a),com.adtech.MRAID.supa.removeEventListener.call(this,a,b,c)},com.adtech.MRAID.prototype.constructMessageValueString=function(a){for(var b=com.adtech.HtmlContent.KEY_VALUE_DELIM,c="",d=0;d<a.length;d++)"object"==typeof a[d]&&(a[d]=JSON.stringify(a[d])),a[d]=escape(a[d]),c+=a[d]+b;return c.substring(c.length-b.length,0)},com.adtech.MRAID.prototype.sendMessage=function(a){var b=[].slice.call(arguments);if(b.shift(),this.core.useJSONMessageSerialisation())var c={method:a,params:b};else var c=this.core.constructMessageKeyValuePair("method",a)+this.core.constructMessageKeyValuePair("params",this.constructMessageValueString(b));this.core.sendMessage(this.core.constructMessage(com.adtech.HtmlContent.CMD_TYPE_MRAID,c))},com.adtech.MRAID.prototype.open=function(a){this.core.click("default",a)},com.adtech.MRAID.prototype.close=function(){switch(this.getPlacementType()){case"interstitial":this.core.close();break;case"inline":this.core.contract()}},com.adtech.MRAID.prototype.expand=function(){this.core.expand()},com.adtech.MRAID.prototype.resize=function(){this.sendMessage("resize")},com.adtech.MRAID.prototype.setResizeProperties=function(a){this.sendMessage("setResizeProperties",a)},com.adtech.MRAID.prototype.createEvent=function(a,b,c){this.sendMessage("createEvent",a.getTime(),b,c)},com.adtech.MRAID.prototype.createCalendarEvent=function(a){this.sendMessage("createCalendarEvent",a)},com.adtech.MRAID.prototype.makeCall=function(a){this.sendMessage("makeCall",a)},com.adtech.MRAID.prototype.openMap=function(a,b){this.sendMessage("openMap",a,b)},com.adtech.MRAID.prototype.playAudio=function(a,b){this.sendMessage("playAudio",a,b)},com.adtech.MRAID.prototype.playVideo=function(a,b){"object"==typeof b&&this.core.env==com.adtech.HtmlContent.ENVIRONMENT_ORMMA?this.sendMessage("playVideo",a,b):this.sendMessage("playVideo",a)},com.adtech.MRAID.prototype.sendMail=function(a,b,c){this.sendMessage("sendMail",a,b,c)},com.adtech.MRAID.prototype.sendSMS=function(a,b){this.sendMessage("sendSMS",a,b)},com.adtech.MRAID.prototype.storePicture=function(a){this.sendMessage("storePicture",a)},com.adtech.MRAID.prototype.useCustomClose=function(a){this.sendMessage("useCustomClose",a)},com.adtech.MRAID.prototype.setShakeProperties=function(a){var b=["interval","intensity"],c=com.adtech.MRAID.utils.createValidObject(a,b);com.adtech.MRAID.utils.mergeObjects(this.core.adConfig.mraid.shakeProperties,c),this.sendMessage("setShakeProperties",this.core.adConfig.mraid.shakeProperties)},com.adtech.MRAID.prototype.setExpandProperties=function(a){var b=["width","height","useCustomClose"],c=com.adtech.MRAID.utils.createValidObject(a,b);com.adtech.MRAID.utils.mergeObjects(this.core.adConfig.mraid.expandProperties,c),this.sendMessage("setExpandProperties",this.core.adConfig.mraid.expandProperties)},com.adtech.MRAID.prototype.getExpandProperties=function(){return this.core.adConfig.mraid.expandProperties},com.adtech.MRAID.prototype.getResizeProperties=function(){return this.core.adConfig.mraid.resizeProperties},com.adtech.MRAID.prototype.getState=function(){return"undefined"!=typeof this.core.adConfig?this.core.adConfig.mraid.state:com.adtech.MRAIDState.LOADING},com.adtech.MRAID.prototype.getShakeProperties=function(){return this.core.adConfig.mraid.shakeProperties},com.adtech.MRAID.prototype.getKeyboard=function(){return this.core.adConfig.mraid.keyboard},com.adtech.MRAID.prototype.getHeading=function(){return this.core.adConfig.mraid.heading},com.adtech.MRAID.prototype.getLocation=function(){return this.core.adConfig.mraid.location},com.adtech.MRAID.prototype.getScreenSize=function(){return this.core.adConfig.mraid.screenSize},com.adtech.MRAID.prototype.getDefaultPosition=function(){return this.core.adConfig.mraid.defaultPosition},com.adtech.MRAID.prototype.getCurrentPosition=function(){return this.core.adConfig.mraid.currentPosition},com.adtech.MRAID.prototype.getNetwork=function(){return this.core.adConfig.mraid.network},com.adtech.MRAID.prototype.getOrientation=function(){return this.core.adConfig.mraid.orientation},com.adtech.MRAID.prototype.getMaxSize=function(){return this.core.adConfig.mraid.maxSize},com.adtech.MRAID.prototype.getSize=function(){return this.core.adConfig.mraid.size},com.adtech.MRAID.prototype.getTilt=function(){return this.core.adConfig.mraid.tilt},com.adtech.MRAID.prototype.getPlacementType=function(){return this.core.adConfig.mraid.placementType},com.adtech.MRAID.prototype.getVersion=function(){return this.core.adConfig.mraid.version},com.adtech.MRAID.prototype.isViewable=function(){return this.core.adConfig.mraid.viewable},com.adtech.MRAID.prototype.supports=function(a){if(this.core.adConfig.mraid.supports&&this.core.adConfig.mraid.supports.hasOwnProperty(a))return this.core.adConfig.mraid.supports[a]},com.adtech.MRAID.prototype.postMessageHandler=function(a){if(this.core.useJSONMessageSerialisation())var b=a.payload.params,c=a.payload.property,d=new com.adtech.RichMediaEvent(a.payload.event);else var b=JSON.parse(unescape(a.vars.params)),c=a.vars.property,d=new com.adtech.RichMediaEvent(a.vars.event);if("object"==typeof b){if(this.core.adConfig.mraid.hasOwnProperty(c)){"object"==typeof this.core.adConfig.mraid[c]&&null!==this.core.adConfig.mraid[c]||(this.core.adConfig.mraid[c]={});for(var e in b)b.hasOwnProperty(e)&&(this.core.adConfig.mraid[c][e]=b[e],d.property(e,b[e]))}}else this.core.adConfig.mraid.hasOwnProperty(c)&&(this.core.adConfig.mraid[c]=b,d.property(c,b));this.dispatchEvent(d)},com.adtech.MRAID.utils={},com.adtech.MRAID.utils.inArray=function(a,b){for(var c=0;c<b.length;c++)if(b[c]==a)return!0;return!1},com.adtech.MRAID.utils.createValidObject=function(a,b){var c={};for(var d in a)com.adtech.MRAID.utils.inArray(d,b)&&(c[d]=a[d]);return c},com.adtech.MRAID.utils.mergeObjects=function(a,b){for(var c in b)a[c]=b[c]},com.adtech.MRAID.prototype.coreReadyEventHandler=function(){this.core.env!=com.adtech.HtmlContent.ENVIRONMENT_MRAID&&this.core.env!=com.adtech.HtmlContent.ENVIRONMENT_ORMMA||(this.currentContainerState=this.core.adConfig.mraid.state,this.addEventListener(com.adtech.RichMediaEvent.MRAID_STATE_CHANGE,this.stateChangeHandler,this),this.dispatchEvent(com.adtech.RichMediaEvent.READY))},com.adtech.MRAID.prototype.stateChangeHandler=function(a){var b=a.state;this.currentContainerState!=b&&(this.currentContainerState=b,this.stateChangeCallbacks.hasOwnProperty(b)&&this.stateChangeCallbacks[b]())},com.adtech.Core.prototype.registerVideoPlayer=function(a,b){a&&ADTECH.require(["VideoTracking/1.1.8/VideoTracking"],function(){ADTECH.modules.VideoTracking.registerVideoPlayer(a,b)})};var ADTECH=new com.adtech.Core;(function(){!function(a){function b(){}function c(a,b){return 0==H.call(a).indexOf("[object "+b)}function d(a){return a&&"/"==a.charAt(a.length-1)?a.substr(0,a.length-1):a}function e(a,b){var c,d,e,f;return c=1,d=a,"."==d.charAt(0)&&(e=!0,d=d.replace(M,function(a,b,d,e){return d&&c++,e||""})),e?(e=b.split("/"),f=e.length-c,0>f?a:(e.splice(f,c),e.concat(d||[]).join("/"))):d}function f(a){var b=a.indexOf("!");return{f:a.substr(b+1),d:0<=b&&a.substr(0,b)}}function g(){}function h(a,b){g.prototype=a||G;var c=new g;g.prototype=G;for(var d in b)c[d]=b[d];return c}function i(){function a(a,b,c){e.push([a,b,c])}function c(a,b){for(var c,d=0;c=e[d++];)(c=c[a])&&c(b)}var d,e,f;d=this,e=[],f=function(d,g){a=d?function(a){a&&a(g)}:function(a,b){b&&b(g)},f=b,c(d?0:1,g),c=b,e=v},this.then=function(b,c,e){return a(b,c,e),d},this.resolve=function(a){d.w=a,f(!0,a)},this.reject=function(a){d.qa=a,f(!1,a)},this.t=function(a){c(2,a)}}function j(a){return a instanceof i||a instanceof o}function k(a,b,c,d){j(a)?a.then(b,c,d):b(a)}function l(a,b,c){var d;return function(){return 0<=--a&&b&&(d=b.apply(v,arguments)),0==a&&c&&c(d),d}}function m(){var a,b;return r="",a=[].slice.call(arguments),c(a[0],"Object")&&(b=a.shift(),b=n(b)),new o(a[0],a[1],a[2],b)}function n(a,b,c){var d;if(r="",a&&(y.O(a),s=y.b(a),"preloads"in a&&(d=new o(a.preloads,v,c,K,!0),y.j(function(){K=d})),a=a.main))return new o(a,b,c)}function o(a,b,c,d,e){var f;f=y.i(s,v,[].concat(a),e),this.then=this.then=a=function(a,b){return k(f,function(b){a&&a.apply(v,b)},function(a){if(!b)throw a;b(a)}),this},this.next=function(a,b,c){return new o(a,b,c,f)},this.config=n,(b||c)&&a(b,c),y.j(function(){k(e||K,function(){k(d,function(){y.o(f)},c)})})}function p(a){var b,c;if(b=a.id,b==v&&(w!==v?w={F:"Multiple anonymous defines encountered"}:(b=y.ca())||(w=a)),b!=v){if(c=I[b],b in I||(c=y.h(b,s),c=y.B(c.b,b),I[b]=c),!j(c))throw Error("duplicate define: "+b);c.ha=!1,y.C(c,a)}}function q(){var a=y.$(arguments);p(a)}var r,s,t,u,v,w,x,y,z=a.document,A=z&&(z.head||z.getElementsByTagName("head")[0]),B=A&&A.getElementsByTagName("base")[0]||null,C={},D={},E={},F="addEventListener"in a?{}:{loaded:1,complete:1},G={},H=G.toString,I={},J={},K=!1,L=/^\/|^[^:]+:\/\/|^[A-Za-z]:[\\/]/,M=/(\.)(\.?)(?:$|\/([^\.\/]+.*)?)/g,N=/\/\*[\s\S]*?\*\/|\/\/.*?[\n\r]/g,O=/require\s*\(\s*(["'])(.*?[^\\])\1\s*\)|[^\\]?(["'])/g,P=/\s*,\s*/;y={k:function(a,b,c){var g;return a=e(a,b),"."==a.charAt(0)?a:(g=f(a),a=(b=g.d)||g.f,a in c.c&&(a=c.c[a].J||a),b&&(0>b.indexOf("/")&&!(b in c.c)&&(a=d(c.M)+"/"+b),a=a+"!"+g.f),a)},i:function(a,b,d,e){function g(b,c){var d,e;return d=y.k(b,l.id,a),c?(e=f(d),e.d?(d=I[e.d],e.f="normalize"in d?d.normalize(e.f,g,l.b)||"":g(e.f),e.d+"!"+e.f):d):d}function h(b,d,f){var h;if(h=d&&function(a){d.apply(v,a)},c(b,"String")){if(h)throw Error("require(id, callback) not allowed");if(f=g(b,!0),b=I[f],!(f in I))throw Error("Module not resolved: "+f);return(f=j(b)&&b.a)||b}k(y.o(y.i(a,l.id,b,e)),h,f)}var l;return l=new i,l.id=b||"",l.da=e,l.D=d,l.b=a,l.u=h,h.toUrl=function(b){return y.h(g(b,!0),a).url},l.k=g,l},B:function(a,b,c){var d,e,f;return d=y.i(a,b,v,c),e=d.resolve,f=l(1,function(a){d.n=a;try{return y.U(d)}catch(b){d.reject(b)}}),d.resolve=function(a){k(c||K,function(){e(I[d.id]=J[d.url]=f(a))})},d.G=function(a){k(c||K,function(){d.a&&(f(a),d.t(D))})},d},S:function(a,b,c,d){return y.i(a,c,v,d)},ba:function(a){return a.u},H:function(a){return a.a||(a.a={})},aa:function(a){var b=a.q;return b||(b=a.q={id:a.id,uri:y.I(a),exports:y.H(a),config:function(){return a.b}},b.a=b.exports),b},I:function(a){return a.url||(a.url=y.A(a.u.toUrl(a.id),a.b))},O:function(b){var d,e,f,g,h;if(d="ADTECHCurl",e="ADTECHDefine",f=g=a,b&&(h=b.overwriteApi||b.oa,d=b.apiName||b.ja||d,f=b.apiContext||b.ia||f,e=b.defineName||b.la||e,g=b.defineContext||b.ka||g,t&&c(t,"Function")&&(a.curl=t),t=null,u&&c(u,"Function")&&(a.ADTECHDefine=u),u=null,!h)){if(f[d]&&f[d]!=m)throw Error(d+" already exists");if(g[e]&&g[e]!=q)throw Error(e+" already exists")}f[d]=m,g[e]=q},b:function(a){function b(a,b){var g,i,l,m,n;for(n in a){l=a[n],c(l,"String")&&(l={path:a[n]}),l.name=l.name||n,m=j,i=f(d(l.name)),g=i.f,(i=i.d)&&(m=k[i],m||(m=k[i]=h(j),m.c=h(j.c),m.e=[]),delete a[n]),i=l;var o=b,p=void 0;i.path=d(i.path||i.location||""),o&&(p=i.main||"./main","."==p.charAt(0)||(p="./"+p),i.J=e(p,i.name+"/")),i.b=i.config,i.b&&(i.b=h(j,i.b)),i.P=g.split("/").length,g?(m.c[g]=i,m.e.push(g)):m.l=y.N(l.path,j)}}function g(a){var b=a.c;a.L=new RegExp("^("+a.e.sort(function(a,c){return b[c].P-b[a].P}).join("|").replace(/\/|\./g,"\\$&")+")(?=\\/|$)"),delete a.e}var i,j,k,l;"baseUrl"in a&&(a.l=a.baseUrl),"main"in a&&(a.J=a.main),"preloads"in a&&(a.pa=a.preloads),"pluginPath"in a&&(a.M=a.pluginPath),("dontAddFileExt"in a||a.g)&&(a.g=new RegExp(a.dontAddFileExt||a.g)),i=s,j=h(i,a),j.c=h(i.c),k=a.plugins||{},j.plugins=h(i.plugins),j.s=h(i.s,a.s),j.r=h(i.r,a.r),j.e=[],b(a.packages,!0),b(a.paths,!1);for(l in k)a=y.k(l+"!","",j),j.plugins[a.substr(0,a.length-1)]=k[l];k=j.plugins;for(l in k)k[l]=h(j,k[l]),(a=k[l].e)&&(k[l].e=a.concat(j.e),g(k[l]));for(l in i.c)j.c.hasOwnProperty(l)||j.e.push(l);return g(j),j},h:function(a,b){var c,d,e,f;return c=b.c,e=L.test(a)?a:a.replace(b.L,function(a){return d=c[a]||{},f=d.b,d.path||""}),{b:f||s,url:y.N(e,b)}},N:function(a,b){var c=b.l;return c&&!L.test(a)?d(c)+"/"+a:a},A:function(a,b){return a+((b||s).g.test(a)?"":".js")},p:function(b,c,d){var e=z.createElement("script");return e.onload=e.onreadystatechange=function(d){d=d||a.event,("load"==d.type||F[e.readyState])&&(delete E[b.id],e.onload=e.onreadystatechange=e.onerror="",c())},e.onerror=function(){d(Error("Syntax or http error: "+b.url))},e.type=b.K||"text/javascript",e.charset="utf-8",e.async=!b.ea,e.src=b.url,E[b.id]=e,A.insertBefore(e,B),e},V:function(a){var b,c=[];return("string"==typeof a?a:a.toSource?a.toSource():a.toString()).replace(N,"").replace(O,function(a,d,e,f){return f?b=b==f?v:b:b||c.push(e),""}),c},$:function(a){var b,d,e,f,g,h;return g=a.length,e=a[g-1],f=c(e,"Function")?e.length:-1,2==g?c(a[0],"Array")?d=a[0]:b=a[0]:3==g&&(b=a[0],d=a[1]),!d&&0<f&&(h=!0,d=["require","exports","module"].slice(0,f).concat(y.V(e))),{id:b,n:d||[],v:0<=f?e:function(){return e},m:h}},U:function(a){var b;return b=a.v.apply(a.m?a.a:v,a.n),b===v&&a.a&&(b=a.q?a.a=a.q.exports:a.a),b},C:function(a,b){a.v=b.v,a.m=b.m,a.D=b.n,y.o(a)},o:function(a){function b(a,b,c){g[b]=a,c&&m(a,b)}function c(b,c){if(b.match(/^\.\//)){var d=document.location.href.split("/");d.splice(d.length-1,1),b=d.join("/")+"/"+b.replace(/^\.\//,""),b.match(/\.js$/i)&&(b="js!"+b)}var e,f,g;e=l(1,function(a){f(a),n(a,c)}),f=l(1,function(a){m(a,c)}),g=y.X(b,a),(d=j(g)&&g.a)&&f(d),k(g,e,a.reject,a.a&&function(a){g.a&&(a==C?f(g.a):a==D&&e(g.a))})}function d(){a.resolve(g)}var e,f,g,h,i,m,n;for(g=[],f=a.D,h=f.length,0==f.length&&d(),m=l(h,b,function(){a.G&&a.G(g)}),n=l(h,b,d),e=0;e<h;e++)i=f[e],i in x?(n(x[i](a),e,!0),a.a&&a.t(C)):i?c(i,e):n(v,e,!0);return a},Y:function(a){return y.I(a),y.p(a,function(){var b=w;w=v,!1!==a.ha&&(!b||b.F?a.reject(Error(b&&b.F||"define() missing or duplicated: "+a.url)):y.C(a,b))},a.reject),a},X:function(a,b){var c,d,e,g,h,j,l,m,n,o,p,q;return c=b.k,d=b.da,e=b.b||s,h=c(a),h in I?j=h:(g=f(h),m=g.f,j=g.d||m,n=y.h(j,e)),h in I||(q=y.h(m,e).b,g.d?l=j:(l=q.moduleLoader||q.na||q.loader||q.ma)&&(m=j,j=l,n=y.h(l,e))),j in I?o=I[j]:n.url in J?o=I[j]=J[n.url]:(o=y.B(q,j,d),o.url=y.A(n.url,n.b),I[j]=J[n.url]=o,y.Y(o)),j==l&&(g.d&&e.plugins[g.d]&&(q=e.plugins[g.d]),p=new i,k(o,function(a){var b,e,f;if(f=a.dynamic,m="normalize"in a?a.normalize(m,c,o.b)||"":c(m),e=l+"!"+m,b=I[e],!(e in I)){b=y.S(q,e,m,d),f||(I[e]=b);var g=function(a){f||(I[e]=a),b.resolve(a)};g.resolve=g,g.reject=g.error=b.reject,a.load(m,b.u,g,q)}p!=b&&k(b,p.resolve,p.reject,p.t)},p.reject)),p||o},ca:function(){var b;if(!c(a.opera,"Opera"))for(var d in E)if("interactive"==E[d].readyState){b=d;break}return b},Z:function(a){var b,c,d=0;for(b=z&&(z.scripts||z.getElementsByTagName("script"));b&&(c=b[d++]);)if(a(c))return c},W:function(){var a,b="";return(a=y.Z(function(a){return(a=a.getAttribute("data-curl-run"))&&(b=a),a}))&&a.setAttribute("data-curl-run",""),b},Q:function(){function a(){y.p({url:d.shift()},b,b)}function b(){r&&(d.length?(y.j(c),a()):c("run.js script did not run."))}function c(a){throw Error(a||"Primary run.js failed. Trying fallback.")}var d=r.split(P);d.length&&a()},j:function(a){setTimeout(a,0)}},x={require:y.ba,exports:y.H,module:y.aa},m.version="0.8.10",m.config=n,q.amd={plugins:!0,jQuery:!0,curl:"0.8.10"},s={l:"",M:"curl/plugin",g:/\?|\.js\b/,s:{},r:{},plugins:{},c:{},L:/$^/},t=a.curl,u=a.ADTECHDefine,t&&c(t,"Object")?(a.curl=v,n(t)):y.O(),(r=y.W())&&y.j(y.Q),I.curl=m,I["curl/_privileged"]={core:y,cache:I,config:function(){return s},_define:p,_curl:m,Promise:i}}(this.window||"undefined"!=typeof global&&global||this),function(a){function b(){var a;return a=r.createElement("link"),a.rel="stylesheet",a.type="text/css",a}function c(a,b){a.onload=function(){w.load=w.load||!0,b()}}function d(a,b){a.onerror=function(){w.error=w.error||!0,b()}}function e(a,b,c){v.push({url:a,R:b,T:function(){c(Error("HTTP or network error."))}}),(a=g())&&f(a)}function f(a){var b,c;b=v.shift(),c=a.styleSheet,b?(a.onload=function(){b.R(b.fa),f(a)},a.onerror=function(){b.T(),f(a)},b.fa=c.imports[c.addImport(b.url)]):(a.onload=a.onerror=o,u.push(a))}function g(){var a;return a=u.shift(),!a&&12>t.length&&(a=r.createElement("style"),t.push(a),p.appendChild(a)),a}function h(a){var b,c,d;if(!a.href||r.readyState&&"complete"!=r.readyState)return!1;b=!1;try{(c=a.sheet)&&(d=c.cssRules,b=null===d,!b&&d&&(c.insertRule("-curl-css-test {}",0),c.deleteRule(0),b=!0))}catch(e){b="[object Opera]"!=Object.prototype.toString.call(window.opera)&&/security|denied/i.test(e.message)}return b}function i(a,b,c){w.load||(h(a)?c(a.sheet):a.onload==o||!a.onload||q(function(){i(a,b,c)},b))}function j(a,b,d){function e(){a.onload!=o&&a.onload&&(a.onload=a.onerror=o,m(function(){d(a.sheet)}))}c(a,e),i(a,b,e)}function k(a,b){d(a,function(){a.onload!=o&&a.onload&&(a.onload=a.onerror=o,b(Error("HTTP or network error.")))})}function l(a,c,d,e){var f;f=b(),j(f,e,c),k(f,d),f.href=a,p.appendChild(f)}function m(a){function b(){r.readyState&&"complete"!=r.readyState?q(b,10):a()}b()}function n(a){return a.lastIndexOf(".")<=a.lastIndexOf("/")?a+".css":a}function o(){}var p,q=a.setTimeout,r=a.document;a=r&&r.createStyleSheet&&!(10<=r.documentMode);var s,t=[],u=[],v=[],w={};r&&(p=r.head||r.getElementsByTagName("head")[0],s=a?e:l),ADTECHDefine("curl/plugin/css",{normalize:function(a,b){var c,d;if(!a)return a;c=a.split(","),d=[];for(var e=0,f=c.length;e<f;e++)d.push(b(c[e]));return d.join(",")},load:function(a,c,d,e){function f(a){1<i.length&&h.push(a),0==--k&&d(1==i.length?a:h)}function g(a){(d.reject||function(a){throw a})(a)}var h,i,j,k,l;for(h=[],i=(a||"").split(","),j=e.cssWatchPeriod||50,e=e.cssNoWait,k=i.length,l=0;l<i.length;l++){a=i[l];var m;a=n(c.toUrl(a)),e?(m=b(),m.href=a,p.appendChild(m),f(m.sheet||m.styleSheet)):s(a,f,g,j)}},cramPlugin:"../cram/css"})}(this),function(a,b,c){ADTECHDefine("curl/plugin/js",["curl/_privileged"],function(a){function d(b,d,e){function f(){h||(g<new Date?e():setTimeout(f,10))}var g,h,i;g=(new Date).valueOf()+(b.ga||3e5),e&&b.a&&setTimeout(f,10),i=a.core.p(b,function(){h=!0,b.a&&(b.w=c(b.a)),!b.a||b.w?d(i):e()},function(a){h=!0,e(a)})}function e(a,b){d(a,function(){var c=i.shift();g=0<i.length,c&&e.apply(null,c),b.resolve(a.w||!0)},function(a){b.reject(a)})}var f,g,h={},i=[],j=b&&1==b.createElement("script").async,k=/\?|\.js\b/;return f=a.Promise,{dynamic:!0,normalize:function(a,b){var c=a.indexOf("!");return 0<=c?b(a.substr(0,c))+a.substr(c):b(a)},load:function(a,b,c,l){function m(a){(c.error||function(a){throw a})(a)}var n,o,p,q,r;n=0<a.indexOf("!order"),o=a.indexOf("!exports="),p=0<o?a.substr(o+9):l.a,q=!("prefetch"in l)||l.prefetch,a=n||0<o?a.substr(0,a.indexOf("!")):a,o=(o=l.dontAddFileExt||l.g)?new RegExp(o):k,r=b.toUrl(a),o.test(r)||(r=r.lastIndexOf(".")<=r.lastIndexOf("/")?r+".js":r),r in h?h[r]instanceof f?h[r].then(c,m):c(h[r]):(a={name:a,url:r,ea:n,a:p,ga:l.timeout},h[r]=b=new f,b.then(function(a){h[r]=a,c(a)},m),n&&!j&&g?(i.push([a,b]),q&&(a.K="text/cache",d(a,function(a){a&&a.parentNode.removeChild(a)},function(){}),a.K="")):(g=g||n,e(a,b)))},cramPlugin:"../cram/js"}})}(this,this.document,function(p){try{return eval(p)}catch(I){}})}).call(this),function(){var a="//secure-ads.pictela.net/rm/lib/richmedia/extensions/";document.location.protocol.match(/^http/i)||a.match(/^http/i)||(a="http:"+a),ADTECHCurl({baseUrl:a,apiName:"require",apiContext:ADTECH}),window.curl=ADTECHCurl}();
//# sourceMappingURL=ADTECH_1_12_0.js.map